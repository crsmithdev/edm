# Tasks: Fix XXE Vulnerability

## 1. Add Dependency
- [ ] 1.1 Add `defusedxml>=0.7.1` to `pyproject.toml` dependencies
- [ ] 1.2 Run `uv sync` to install
- [ ] 1.3 Verify installation: `uv run python -c "import defusedxml"`

## 2. Update Code
- [ ] 2.1 Replace `import xml.etree.ElementTree as ET` with `import defusedxml.ElementTree as ET` in `src/edm/data/rekordbox.py`
- [ ] 2.2 Verify no other files use `xml.etree.ElementTree`: `rg "import xml.etree"`

## 3. Add Security Tests
- [ ] 3.1 Create `tests/security/` directory
- [ ] 3.2 Create `tests/security/test_xxe.py` with malicious XML test case
- [ ] 3.3 Verify test passes (attack is prevented)

## 4. Validation
- [ ] 4.1 Run existing tests: `pytest tests/unit/test_rekordbox.py`
- [ ] 4.2 Run new security test: `pytest tests/security/test_xxe.py`
- [ ] 4.3 Manual test: Parse valid Rekordbox XML file
- [ ] 4.4 Run full test suite: `pytest`

## 5. Documentation
- [ ] 5.1 Add security note to `docs/development.md`
- [ ] 5.2 Update CHANGELOG.md with security fix
